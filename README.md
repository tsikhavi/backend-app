# Backend App (Express + PostgreSQL + Sequelize)

### –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ—Å—Ç–æ–µ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Node.js (Express)** —Å **PostgreSQL (Sequelize ORM)**, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `Users` —Å –ø–æ–ª–µ–º `balance = 10000` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.
- API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º).
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ –æ—á–µ—Ä–µ–¥–µ–π –∏ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
- –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 10 000 –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (SSH)

```bash
git clone git@github.com:your-username/backend-app.git
cd backend-app
```
````

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```ini
DB_NAME="database_development"
DB_USER="root"
DB_PASS=""
DB_HOST="127.0.0.1"
PORT=3000
APP_URL="http://localhost:3000"

```

---

## 2. –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `Users`

```bash
npx sequelize-cli db:migrate
```

### –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã (`id = 1, balance = 10000`)

```bash
npx sequelize-cli db:seed:all
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ `psql`:**

```sql
SELECT * FROM "Users";
```

---

## 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

### –í `development` —Ä–µ–∂–∏–º–µ

```bash
npm run start
```

### –í `production` —Ä–µ–∂–∏–º–µ (–∏–∑ `dist/`)

```bash
npm run build
npm run start:prod
npm run start:prodwatch
```

---

## üî• 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –ó–∞–ø—Ä–æ—Å –Ω–∞ **–∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** (POST)

```bash
curl -X POST -H "Content-Type: application/json" -d '{"amount": -2}' http://localhost:3000/users/1/balance
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å >= 2:
  ```json
  { "userId": 1, "newBalance": 9998 }
  ```
- –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å < 2:
  ```json
  { "error": "Insufficient funds" }
  ```

---

## ‚ö° 5. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (10 000 –∑–∞–ø—Ä–æ—Å–æ–≤)

### –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

```bash
chmod +x benchmark.sh
./benchmark.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- **5000 —É—Å–ø–µ—à–Ω—ã—Ö —Å–ø–∏—Å–∞–Ω–∏–π (`200 OK`)**
- **5000 –æ—Ç–∫–∞–∑–æ–≤ (`400 Bad Request: Insufficient funds`)**

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `benchmark_results.txt`.

---

## üîí 6. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é

üîê **–î–æ—Å—Ç—É–ø –∫ –∫–æ–¥—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω**:

- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π.
- –î–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ SSH –∫–ª—é—á—É (`Deploy Key`).
- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ—Å—Ç–∞ –ø–µ—Ä–µ–¥–∞–π—Ç–µ **GitHub username**, –∏ –¥–æ—Å—Ç—É–ø –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç.

  **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (GitHub CLI)**

```bash
gh repo edit backend-app --add-collaborator USERNAME
```

---

**–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—É –∫ –∫–æ–¥—É!**

```

```
